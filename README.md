## Установка
1. bcc
Для убунту , например sudo apt-get install bpfcc-tools linux-headers-$(uname -r) , для остальных дистрибутивов можно посмотреть тут https://github.com/iovisor/bcc/blob/master/INSTALL.md
2. python3


## Требования
Запуск скрипта с cmdline требует версии ядра не ниже 5.5 .
Также запуск скрипта требует sudo
## Пример запуска, cхема одинаковая для всех скриптов, смысл параметр n зависит от контекста
sudo python3 exec_comm.py -n program

## exec_comm.py -n
Ловит во время exec и если comm процесса совпадает с переданным в параметры, то подключается к нему дебагом

## exec_filename.py -n
Ловит во время exec и если filename в аргументах exec совпадает с переданным в параметры, то подключается к нему дебагом
## prctil.py -n
Ловит изменение COMM процесса, если совпадает с переданным в парметры, то подключаемся дебагом
## cmdline.py -n
Так как какой-то точки трассировки, в которой можно поймать изменение cmdline, то тут трассируем sys_enter и проверяем совпадает ли cmdline с переданным в параметрах. В итоге также подключается дебагером.
Тестировал данный скрипт с nginx, только там у всех рабочих процессов одинаковое название "nginx: worker thread", так что не совсем понятно как их идентифицировать, так что подключается к первому попавшему.

## uprobe.py
До конца не доведенный скрипт, но можно с помощью uprobe поймать новый процесс, если знать какую функцию он будет вызывать. Единственное, что нужно либо заранее знать где лежит бинарник, либо же ловить старт мастер процесса, чтобы узнать адрес нужной функции. Конкретно в этом скрипте просто руками прописан путь к бинарнику nginx и вписана функция, которая вызывается как-раз для изменения имени.